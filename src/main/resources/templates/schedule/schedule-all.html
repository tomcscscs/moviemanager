<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>상영관 등록 :: 영화관관리</title>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet" />
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link th:href="@{/css/style.css}" rel="stylesheet" />

</head>
<body>
	<div class="container py-3">
		<ul class="nav justify-content-start nav-underline mb-2">
			<li class="nav-item py-1"><a class="nav-link "
				aria-current="page" th:href="@{/movie/all}">영화 관리</a></li>
			<li class="nav-item py-1"><a class="nav-link"
				th:href="@{/cinema/all}">상영관 관리</a></li>
			<li class="nav-item py-1"><a class="nav-link active"
				th:href="@{/schedule/all}">스케쥴 관리</a></li>
		</ul>
		<div class="">
			<h2>상영 스케쥴 관리</h2>
			<div class="py-2">
				<!-- 장르별 네비게이션 바 -->
				<div class="py-1">
					<th:block th:each="one : ${period}">
						<a th:href="@{/schedule/all(targetDate=${one}) }"
							th:text="${#temporals.format(one,'MM-dd')}" class="btn btn-sm"
							th:classappend="${targetDate == one ? 'btn-secondary' : 'btn-light'}"></a>
					</th:block>
				</div>
				<div th:if="${#lists.isEmpty(schedules)}">
					<p>※ 해당 날짜에 등록된 상영 스케쥴이 없습니다.</p>
				</div>
				<div th:unless="${#lists.isEmpty(schedules)}">
					<div th:each="one : ${schedules}">
						<div>
							<span th:text="${one.movie.ageCut}"></span> <span
								th:text="${one.movie.title}"></span> <span
								th:text="${one.movie.genre.name}"></span>
						</div>
						<ul>
							<li th:each="data : ${one.schedules}" >
								<span th:text="${data.cinema.callName}+'관'"></span>
								<span th:text="${#temporals.format(data.showTime, 'HH:mm')}"></span>
							</li>
						</ul>
					</div>
				</div>
				<div class="d-flex justify-content-end">
					<a th:href="@{/schedule/new}" class="btn btn-sm btn-dark">상영시간
						추가</a>
				</div>
			</div>
		</div>
	</div>
</body>
</html>